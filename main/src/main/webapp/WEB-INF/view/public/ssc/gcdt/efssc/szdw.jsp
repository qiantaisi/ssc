<%@ page trimDirectiveWhitespaces="true" %>
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ page import="project38.api.utils.RequestUtils" %>
<%
    String basePath = RequestUtils.getBasePath(request);
%>
<div class="lot-content clearfix">
    <div class="fl main-left re-main-left">
        <div class="table-common">
            <table width="100%" border="1">
                <thead>
                <tr>
                    <th colspan="21">三字定位(中3@<strong class="pl red" data-plid="11014"></strong>)</th>
                </tr>
                </thead>

                <tbody>
                <tr>
                    <td><strong>万</strong></td>
                    <td><strong class="pl">0</strong></td>
                    <td><input type="checkbox" data-name="0" data-group="万"/></td>
                    <td><strong class="pl">1</strong></td>
                    <td><input type="checkbox" data-name="1" data-group="万"/></td>
                    <td><strong class="pl">2</strong></td>
                    <td><input type="checkbox" data-name="2" data-group="万"/></td>
                    <td><strong class="pl">3</strong></td>
                    <td><input type="checkbox" data-name="3" data-group="万"/></td>
                    <td><strong class="pl">4</strong></td>
                    <td><input type="checkbox" data-name="4" data-group="万"/></td>
                    <td><strong class="pl">5</strong></td>
                    <td><input type="checkbox" data-name="5" data-group="万"/></td>
                    <td><strong class="pl">6</strong></td>
                    <td><input type="checkbox" data-name="6" data-group="万"/></td>
                    <td><strong class="pl">7</strong></td>
                    <td><input type="checkbox" data-name="7" data-group="万"/></td>
                    <td><strong class="pl">8</strong></td>
                    <td><input type="checkbox" data-name="8" data-group="万"/></td>
                    <td><strong class="pl">9</strong></td>
                    <td><input type="checkbox" data-name="9" data-group="万"/></td>
                </tr>
                <tr>
                    <td><strong>千</strong></td>
                    <td><strong class="pl">0</strong></td>
                    <td><input type="checkbox" data-name="0" data-group="千"/></td>
                    <td><strong class="pl">1</strong></td>
                    <td><input type="checkbox" data-name="1" data-group="千"/></td>
                    <td><strong class="pl">2</strong></td>
                    <td><input type="checkbox" data-name="2" data-group="千"/></td>
                    <td><strong class="pl">3</strong></td>
                    <td><input type="checkbox" data-name="3" data-group="千"/></td>
                    <td><strong class="pl">4</strong></td>
                    <td><input type="checkbox" data-name="4" data-group="千"/></td>
                    <td><strong class="pl">5</strong></td>
                    <td><input type="checkbox" data-name="5" data-group="千"/></td>
                    <td><strong class="pl">6</strong></td>
                    <td><input type="checkbox" data-name="6" data-group="千"/></td>
                    <td><strong class="pl">7</strong></td>
                    <td><input type="checkbox" data-name="7" data-group="千"/></td>
                    <td><strong class="pl">8</strong></td>
                    <td><input type="checkbox" data-name="8" data-group="千"/></td>
                    <td><strong class="pl">9</strong></td>
                    <td><input type="checkbox" data-name="9" data-group="千"/></td>
                </tr>
                <tr>
                    <td><strong>百</strong></td>
                    <td><strong class="pl">0</strong></td>
                    <td><input type="checkbox" data-name="0" data-group="百"/></td>
                    <td><strong class="pl">1</strong></td>
                    <td><input type="checkbox" data-name="1" data-group="百"/></td>
                    <td><strong class="pl">2</strong></td>
                    <td><input type="checkbox" data-name="2" data-group="百"/></td>
                    <td><strong class="pl">3</strong></td>
                    <td><input type="checkbox" data-name="3" data-group="百"/></td>
                    <td><strong class="pl">4</strong></td>
                    <td><input type="checkbox" data-name="4" data-group="百"/></td>
                    <td><strong class="pl">5</strong></td>
                    <td><input type="checkbox" data-name="5" data-group="百"/></td>
                    <td><strong class="pl">6</strong></td>
                    <td><input type="checkbox" data-name="6" data-group="百"/></td>
                    <td><strong class="pl">7</strong></td>
                    <td><input type="checkbox" data-name="7" data-group="百"/></td>
                    <td><strong class="pl">8</strong></td>
                    <td><input type="checkbox" data-name="8" data-group="百"/></td>
                    <td><strong class="pl">9</strong></td>
                    <td><input type="checkbox" data-name="9" data-group="百"/></td>
                </tr>
                <tr>
                    <td><strong>十</strong></td>
                    <td><strong class="pl">0</strong></td>
                    <td><input type="checkbox" data-name="0" data-group="十"/></td>
                    <td><strong class="pl">1</strong></td>
                    <td><input type="checkbox" data-name="1" data-group="十"/></td>
                    <td><strong class="pl">2</strong></td>
                    <td><input type="checkbox" data-name="2" data-group="十"/></td>
                    <td><strong class="pl">3</strong></td>
                    <td><input type="checkbox" data-name="3" data-group="十"/></td>
                    <td><strong class="pl">4</strong></td>
                    <td><input type="checkbox" data-name="4" data-group="十"/></td>
                    <td><strong class="pl">5</strong></td>
                    <td><input type="checkbox" data-name="5" data-group="十"/></td>
                    <td><strong class="pl">6</strong></td>
                    <td><input type="checkbox" data-name="6" data-group="十"/></td>
                    <td><strong class="pl">7</strong></td>
                    <td><input type="checkbox" data-name="7" data-group="十"/></td>
                    <td><strong class="pl">8</strong></td>
                    <td><input type="checkbox" data-name="8" data-group="十"/></td>
                    <td><strong class="pl">9</strong></td>
                    <td><input type="checkbox" data-name="9" data-group="十"/></td>
                </tr>
                <tr>
                    <td><strong>个</strong></td>
                    <td><strong class="pl">0</strong></td>
                    <td><input type="checkbox" data-name="0" data-group="个"/></td>
                    <td><strong class="pl">1</strong></td>
                    <td><input type="checkbox" data-name="1" data-group="个"/></td>
                    <td><strong class="pl">2</strong></td>
                    <td><input type="checkbox" data-name="2" data-group="个"/></td>
                    <td><strong class="pl">3</strong></td>
                    <td><input type="checkbox" data-name="3" data-group="个"/></td>
                    <td><strong class="pl">4</strong></td>
                    <td><input type="checkbox" data-name="4" data-group="个"/></td>
                    <td><strong class="pl">5</strong></td>
                    <td><input type="checkbox" data-name="5" data-group="个"/></td>
                    <td><strong class="pl">6</strong></td>
                    <td><input type="checkbox" data-name="6" data-group="个"/></td>
                    <td><strong class="pl">7</strong></td>
                    <td><input type="checkbox" data-name="7" data-group="个"/></td>
                    <td><strong class="pl">8</strong></td>
                    <td><input type="checkbox" data-name="8" data-group="个"/></td>
                    <td><strong class="pl">9</strong></td>
                    <td><input type="checkbox" data-name="9" data-group="个"/></td>
                </tr>
                </tbody>
                <tfoot>
                <tr>
                    <td colspan="21">
                        <c:import url="../common/toptouzhu.jsp">
                            <c:param name="flagGroup" value="11"/>
                            <c:param name="navGroup" value="2"/>
                        </c:import>
                    </td>
                </tr>
                </tfoot>
            </table>
        </div>

        <div class="btns">
            <button type="submit" class="btn btn-1">提交</button>
            <button class="btn btn-2">重设</button>
        </div>


        <c:import url="common/bottom_zs.jsp"/>
    </div>

    <div class="fr main-right cl-10 re-main-right"></div>
</div>
<c:import url="../common/subPageCommonJs.jsp"/>


<input type="hidden" data-plid="11014" id="pl"/>


<script>
    var playGroupId = 16;
    var playId = 393;
    var playGroupName = '三字定位';

    function getZhudan() {
        var betForm = {
            totalMoney: 0,
            sscBetList: [],
            totalZhushu: 0
        };

        var wan = [], qian = [], bai = [], shi = [], ge = [];
        $(".main-left .table-common input").each(function () {
            if ($(this).is(":checked")) {
                if ($(this).data("group") == '万') {
                    wan.push($(this).data("name"));
                } else if ($(this).data("group") == '千') {
                    qian.push($(this).data("name"));
                } else if ($(this).data("group") == '百') {
                    bai.push($(this).data("name"));
                } else if ($(this).data("group") == '十') {
                    shi.push($(this).data("name"));
                } else if ($(this).data("group") == '个') {
                    ge.push($(this).data("name"));
                }
            }
        });

        var count = 0;
        count += wan.length > 0 ? 1 : 0;
        count += qian.length > 0 ? 1 : 0;
        count += bai.length > 0 ? 1 : 0;
        count += shi.length > 0 ? 1 : 0;
        count += ge.length > 0 ? 1 : 0;
        if (count != 3) {
            Tools.error("有且只能选择三行");
            return;
        }

        var nameArr = [];
        var dataArr = [];
        if (wan.length > 0) {
            nameArr.push("万位");
            var tmp = [];
            $.each(wan, function (index, value) {
                tmp.push(value);
            });
            dataArr.push(tmp);
        }
        if (qian.length > 0) {
            nameArr.push("千位");
            var tmp = [];
            $.each(qian, function (index, value) {
                tmp.push(value);
            });
            dataArr.push(tmp);
        }
        if (bai.length > 0) {
            nameArr.push("百位");
            var tmp = [];
            $.each(bai, function (index, value) {
                tmp.push(value);
            });
            dataArr.push(tmp);
        }
        if (shi.length > 0) {
            nameArr.push("十位");
            var tmp = [];
            $.each(shi, function (index, value) {
                tmp.push(value);
            });
            dataArr.push(tmp);
        }
        if (ge.length > 0) {
            nameArr.push("个位");
            var tmp = [];
            $.each(ge, function (index, value) {
                tmp.push(value);
            });
            dataArr.push(tmp);
        }

        var inputMoney = $("#inputMoney").val();
        if (typeof inputMoney == 'undefined' || !inputMoney) {
            Tools.toast("请输入正确的金额");
            return;
        }
        for (var i = 0; i < dataArr[0].length; ++i) {
            for (var j = 0; j < dataArr[1].length; ++j) {
                for (var k = 0; k < dataArr[2].length; ++k) {
                    betForm.sscBetList.push({
                        playGroupName: playGroupName,
                        playGroupId: playGroupId,
                        number: $("#number").data("number"),
                        playId: playId,
                        zhushu: 1,
                        perMoney: inputMoney,
                        content: nameArr[0] + '-' + dataArr[0][i] + ' ' + nameArr[1] + '-' + dataArr[1][j] + ' ' + nameArr[2] + '-' + dataArr[2][k],
                        playPlId: $("#pl").data("plid"),
                        playPl: $("#pl").data("pl")
                    });
                    betForm.totalMoney = add(betForm.totalMoney, inputMoney);
                    betForm.totalZhushu = add(betForm.totalZhushu, 1);
                }
            }
        }
        return betForm;
    }

    function checkZhudan() {
        var wan = [], qian = [], bai = [], shi = [], ge = [];
        $(".main-left .table-common input").each(function () {
            if ($(this).is(":checked")) {
                if ($(this).data("group") == '万') {
                    wan.push($(this).data("name"));
                } else if ($(this).data("group") == '千') {
                    qian.push($(this).data("name"));
                } else if ($(this).data("group") == '百') {
                    bai.push($(this).data("name"));
                } else if ($(this).data("group") == '十') {
                    shi.push($(this).data("name"));
                } else if ($(this).data("group") == '个') {
                    ge.push($(this).data("name"));
                }
            }
        });

        var count = 0;
        count += wan.length > 0 ? 1 : 0;
        count += qian.length > 0 ? 1 : 0;
        count += bai.length > 0 ? 1 : 0;
        count += shi.length > 0 ? 1 : 0;
        count += ge.length > 0 ? 1 : 0;
        if (count > 3) {
            Tools.error("有且只能选择三行");
            return false;
        }

        return true;
    }
</script>